package com.web;

import org.springframework.context.ApplicationContext;

import com.web.dao.UserRepository;
import com.web.entities.User;

import java.util.List;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class SpringBootWebApplication {

	public static void main(String[] args) {
		ApplicationContext context = SpringApplication.run(SpringBootWebApplication.class, args);
		System.out.println("Home page");

		UserRepository repository = context.getBean(UserRepository.class);

		// Save One user
		/*
		 * User user = new User(); user.setName("Sohan"); user.setAddress("Indore");
		 * System.out.println(repository.save(user));
		 */

		User user = new User();
		user.setName("Mohan");
		user.setAddress("Amla");

		User user1 = new User();
		user1.setName("Rohan");
		user1.setAddress("ktg");

		User user2 = new User();
		user2.setName("Ankit");
		user2.setAddress("Indore");

		List<User> users = List.of(user, user1, user2);

		Iterable<User> resIterable = repository.saveAll(users);

		resIterable.forEach(user -> {
			System.out.println(user);
		});
	}

}
